- [x] 1. 移植対象と失敗契約の土台を確定する
- [x] 1.1 移植対象の列挙と参照根拠を固定する
  - ワークフロー定義・実行ステップ定義・遷移ルール・出力契約・分割実行・実行状態を移植対象として登録する
  - 各対象に参照元を1件以上関連付け、追跡可能な状態にする
  - _Requirements: 1.1, 1.2_
- [x] 1.2 非移植対象の扱いを規定する
  - 対象外が発生した場合は除外理由を必須とする
  - 除外理由が欠落している場合は失敗として扱う
  - _Requirements: 1.3, 6.2_

- [x] 2. ドメインプリミティブと不変値ルールを実装する
- [x] 2.1 文字列ドメイン値の生成制約を実装する
  - 識別子・名称・条件式・遷移先を専用の値として生成する
  - 空文字を拒否し、1文字の値は許可する
  - _Requirements: 2.1, 2.2, 2.3_
- [x] 2.2 数値ドメイン値と不変更新契約を実装する
  - 反復回数や上限値の境界を構築時に検証する
  - 生成済みの値と状態更新を破壊的変更不可にする
  - _Requirements: 2.4, 5.2, 7.3_
- [x] 2.3 失敗種別の安定性を実装する
  - 無効入力時は部分的に生成せず、失敗結果のみを返す
  - 同一の無効入力に対して同一の失敗種別が返る順序を固定する
  - _Requirements: 6.1, 6.2, 6.3_

- [x] 3. ワークフロー定義の初期整合性を実装する
- [x] 3.1 実行ステップ件数と初期ステップ決定を実装する
  - 実行ステップが1件以上のときのみ生成を許可する
  - 初期ステップ省略時の先頭採用と、存在しない指定の拒否を実装する
  - _Requirements: 3.1, 3.2, 3.3, 3.4_
- [x] 3.2 最大ステップ数の既定値と境界を実装する
  - 最大ステップ数の省略時に既定値を設定する
  - 0以下を拒否し、生成失敗として扱う
  - _Requirements: 3.5, 3.6, 6.1_

- [x] 4. 実行ステップ構成と参照整合性を実装する
- [x] 4.1 実行モード排他と遷移ルール制約を実装する
  - 並列・順次変奏・分割実行の同時指定を拒否する
  - 遷移条件の空値と遷移先未設定を拒否する
  - _Requirements: 4.1, 4.2, 4.3, 4.4_
- [x] 4.2 ファセット参照の定義済み検証を実装する
  - 参照されたペルソナ・ポリシー・ナレッジ・インストラクション・出力契約の存在を検証する
  - 未定義参照は識別可能な失敗種別で返す
  - _Requirements: 4.5, 6.2_
- [x] 4.3 分割実行設定と part 入力制約を実装する
  - 分割数とタイムアウトの境界を構築時に検証する
  - part の識別子・タイトル・指示の空値を拒否する
  - _Requirements: 1.1, 4.1, 4.2, 7.1_

- [x] 5. 実行状態遷移の Always-Valid 制約を実装する
- [x] 5.1 実行開始時の状態確定を実装する
  - 開始時の状態を running に固定する
  - 反復値が常に0以上となる生成経路のみ許可する
  - _Requirements: 5.1, 5.2_
- [x] 5.2 終了遷移と未定義先拒否を実装する
  - COMPLETE と ABORT の遷移結果をそれぞれ completed と aborted に固定する
  - 定義されていない実行ステップへの遷移要求を拒否する
  - _Requirements: 5.3, 5.4, 5.5, 7.3_

- [x] 6. 要件トレーサブルな契約テストを整備する
- [x] 6.1 (P) 生成制約と構成制約のテストを整備する
  - 要件1〜4の受け入れ条件ごとに最低1ケースを実装する
  - 空文字・1文字・0件・1件・未定義参照の境界値を網羅する
  - _Requirements: 7.1, 7.2_
- [x] 6.2 (P) 実行状態と失敗契約のテストを整備する
  - 要件5〜6の受け入れ条件ごとに最低1ケースを実装する
  - 同一無効入力の再実行で同一失敗種別になることを検証する
  - _Requirements: 6.3, 7.1, 7.2, 7.3_
